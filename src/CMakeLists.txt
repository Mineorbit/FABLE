add_subdirectory(GC)

file(GLOB SOURCES "${PROJECT_SOURCE_DIR}/extern/BatchPIR/src/*.cpp")
list(REMOVE_ITEM SOURCES "${PROJECT_SOURCE_DIR}/extern/BatchPIR/src/main.cpp")
add_executable(batchlut "batchlut.cpp" ${SOURCES})
find_package(SEAL 4.1 REQUIRED)
find_package(OpenMP REQUIRED)
target_link_libraries(batchlut batchlut-GC fmt::fmt SEAL::seal OpenMP::OpenMP_CXX)
target_include_directories(batchlut PRIVATE ${PROJECT_SOURCE_DIR}/extern/BatchPIR/header)
add_compile_definitions(batchlut LUT_OUTPUT_SIZE=${LUT_OUTPUT_SIZE})